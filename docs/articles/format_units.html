<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="formatdown">
<title>Format units • formatdown</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="Format units">
<meta property="og:description" content="formatdown">
<meta property="og:image" content="https://graphdr.github.io/formatdown/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">formatdown</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.2</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-vignettes">Vignettes</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-vignettes">
    <a class="dropdown-item" href="../articles/format_powers_of_ten.html">Format powers of ten</a>
    <a class="dropdown-item" href="../articles/format_integers_and_decimals.html">Format integers and decimals</a>
    <a class="dropdown-item" href="../articles/format_units.html">Format units</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">News</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/graphdr/formatdown/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Format units</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/graphdr/formatdown/blob/HEAD/vignettes/format_units.Rmd" class="external-link"><code>vignettes/format_units.Rmd</code></a></small>
      <div class="d-none name"><code>format_units.Rmd</code></div>
    </div>

    
    
<p><img src="../reference/figures/si-base-units.png" style="width:70.0%"><br><small><em>Table of SI units</em> by US National Institute of Standards
and Technology (NIST)</small></p>
<p><br></p>
<p>We can avoid the need for powers-of-ten notation by adjusting the
measurement units assigned to a numerical vector. For example, we can
convert <span class="math inline">\(101.3 \times 10^{3}\)</span> Pa to
1013 hPa or 101.3 kPa.</p>
<p>We use the <code>units</code> package for this feature. The
<code><a href="../reference/format_units.html">formatdown::format_units()</a></code> function is a wrapper for
<code><a href="https://r-quantities.github.io/units/reference/units.html" class="external-link">units::as_units()</a></code>, allowing us to assign basic physical
units to a numerical vector and performing unit conversions that
transform the numerical value to match the new measurements units.</p>
<p>As a brief illustration, consider a pressure measurement of 101,300
Pa.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Scalar value assigned a measurement unit</span></span>
<span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fl">101300</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/units.html" class="external-link">units</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="st">"Pa"</span></span>
<span></span>
<span><span class="co"># Original value</span></span>
<span><span class="fu"><a href="../reference/format_units.html">format_units</a></span><span class="op">(</span><span class="va">x</span>, big_mark <span class="op">=</span> <span class="st">","</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "101,300 [Pa]"</span></span>
<span></span>
<span><span class="co"># Convert to hPa</span></span>
<span><span class="fu"><a href="../reference/format_units.html">format_units</a></span><span class="op">(</span><span class="va">x</span>, unit <span class="op">=</span> <span class="st">"hPa"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "1013 [hPa]"</span></span>
<span></span>
<span><span class="co"># Convert to psi</span></span>
<span><span class="fu"><a href="../reference/format_units.html">format_units</a></span><span class="op">(</span><span class="va">x</span>, digits <span class="op">=</span> <span class="fl">3</span>, unit <span class="op">=</span> <span class="st">"psi"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "14.7 [psi]"</span></span></code></pre></div>
<p>These values are rendered using inline R code in an <code>.Rmd</code>
or <code>.qmd</code> output document as follows:</p>
<ul>
<li><p>Original pressure measurement: 101,300 [Pa]</p></li>
<li><p>Convert measurement units: 1013 [hPa]</p></li>
<li><p>Convert measurement units: 14.7 [psi]</p></li>
</ul>
<p>Like other <code>formatdown</code> functions,
<code><a href="../reference/format_units.html">format_units()</a></code> operates on a numerical vector to output a
character vector for rendering in an R Markdown or Quarto Markdown
document. Unlike <code><a href="../reference/format_power.html">format_power()</a></code> however,
<code><a href="../reference/format_units.html">format_units()</a></code> does not apply inline math delimiters.</p>
<div class="section level2">
<h2 id="format_units">
<code>format_units()</code><a class="anchor" aria-label="anchor" href="#format_units"></a>
</h2>
<p>Given a number, a numerical vector, or a numerical column from a data
frame, <code><a href="../reference/format_units.html">format_units()</a></code> converts the numbers to character
strings of the form,</p>
<pre><code><span>    <span class="st">"a [u]"</span> </span></code></pre>
<p>where <code>a</code> is the number and <code>u</code> is the
measurement unit. The user can specify the number of significant
digits.</p>
<p><em>Arguments.</em></p>
<ul>
<li><p><strong>x</strong>   Vector to be formatted, of class numeric or
class units. Can be a scalar, a vector, or a column from a data
frame.</p></li>
<li><p><strong>digits</strong>   Numeric scalar, a positive integer.
Applied as the digits argument of <code><a href="https://rdrr.io/r/base/format.html" class="external-link">base::format()</a></code>. Enough
decimal places are included such that the smallest magnitude value has
this many significant digits.</p></li>
<li><p><strong>unit</strong>   Character scalar, units label compatible
with <code>units</code> package.</p></li>
<li><p><strong>unit_form</strong>   Character scalar. Possible values
are “standard” (default) and “implicit” (implicit exponent form). In
standard form, units are related with arithmetic symbols for
multiplication, division, and powers, e.g., <code>"kg/m^3"</code> or
<code>"W/(m*K)"</code>. In implicit exponent form, symbols are separated
by spaces and numbers represent exponents, e.g., <code>"kg m-3"</code>
or <code>"W m-1 K-1"</code>.</p></li>
<li><p><strong>big_mark</strong>   Character. Applied as the
<code>big.mark</code> argument of <code><a href="https://rdrr.io/r/base/format.html" class="external-link">base::format()</a></code>. Default
is <code>""</code>. If a period is selected for <code>big_mark</code>,
the decimal mark is changed to a comma.</p></li>
</ul>
<p>If you are writing your own script to follow along, we use these
packages in this vignette:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/graphdr/formatdown/" class="external-link">formatdown</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r-datatable.com" class="external-link">data.table</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/message.html" class="external-link">suppressPackageStartupMessages</a></span><span class="op">(</span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r-quantities.github.io/units/" class="external-link">units</a></span><span class="op">)</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://yihui.org/knitr/" class="external-link">knitr</a></span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="scalar">Scalar<a class="anchor" aria-label="anchor" href="#scalar"></a>
</h2>
<p>Assign a value and units,</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fl">101300</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/units.html" class="external-link">units</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="st">"Pa"</span></span></code></pre></div>
<p>Use with inline R code.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode default"><code class="sourceCode default"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>`r format_units(x)`</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>`r format_units(x, unit = "hPa")`</span></code></pre></div>
<p>which, in an <code>.Rmd</code> or <code>.qmd</code> document, are
rendered as</p>
<ul>
<li>101300 [Pa].</li>
<li>1013 [hPa].</li>
</ul>
</div>
<div class="section level2">
<h2 id="vector">Vector<a class="anchor" aria-label="anchor" href="#vector"></a>
</h2>
<p>The <code>atmos</code> data set included with <code>formatdown</code>
has an altitude variable <code>alt</code> in meters. The columns do not
include units metadata. Column is class numeric.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Variable is class numeric</span></span>
<span><span class="va">x</span> <span class="op">&lt;-</span> <span class="va">atmos</span><span class="op">$</span><span class="va">alt</span></span>
<span><span class="va">x</span></span>
<span><span class="co">#&gt; [1]     0 10000 20000 30000 40000 50000 60000 70000 80000</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "numeric"</span></span></code></pre></div>
<p>Assign measurement units to match the source values and format.
Results are class character.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x_char</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/format_units.html">format_units</a></span><span class="op">(</span><span class="va">x</span>, unit <span class="op">=</span> <span class="st">"m"</span><span class="op">)</span></span>
<span><span class="va">x_char</span></span>
<span><span class="co">#&gt; [1] "0 [m]"     "10000 [m]" "20000 [m]" "30000 [m]" "40000 [m]" "50000 [m]"</span></span>
<span><span class="co">#&gt; [7] "60000 [m]" "70000 [m]" "80000 [m]"</span></span></code></pre></div>
<p>If we intend to convert the units, e.g., from meters to kilometers,
we have to assign the source measurement units before using
<code><a href="../reference/format_units.html">format_units()</a></code>. Results are numeric, class units.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Assign units before formatting</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/units.html" class="external-link">units</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="st">"m"</span></span>
<span><span class="va">x</span></span>
<span><span class="co">#&gt; Units: [m]</span></span>
<span><span class="co">#&gt; [1]     0 10000 20000 30000 40000 50000 60000 70000 80000</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "units"</span></span></code></pre></div>
<p>Convert units and format. The numbers change to match the unit
conversion. Results are class character.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Covert units and format as character</span></span>
<span><span class="va">x_char</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/format_units.html">format_units</a></span><span class="op">(</span><span class="va">x</span>, unit <span class="op">=</span> <span class="st">"km"</span><span class="op">)</span></span>
<span><span class="va">x_char</span></span>
<span><span class="co">#&gt; [1] "0 [km]"  "10 [km]" "20 [km]" "30 [km]" "40 [km]" "50 [km]" "60 [km]"</span></span>
<span><span class="co">#&gt; [8] "70 [km]" "80 [km]"</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="digits">Digits<a class="anchor" aria-label="anchor" href="#digits"></a>
</h2>
<p>The <code>digits</code> argument sets the number of significant
digits. Here, temperature values (K) are reported to 4 significant
digits.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sort.html" class="external-link">sort</a></span><span class="op">(</span><span class="va">atmos</span><span class="op">$</span><span class="va">temp</span>, decreasing <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/format_units.html">format_units</a></span><span class="op">(</span><span class="va">x</span>, digits <span class="op">=</span> <span class="fl">4</span>, unit <span class="op">=</span> <span class="st">"K"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "288.1 [K]" "270.6 [K]" "250.3 [K]" "247.0 [K]" "226.5 [K]" "223.2 [K]"</span></span>
<span><span class="co">#&gt; [7] "219.6 [K]" "216.7 [K]" "198.6 [K]"</span></span></code></pre></div>
<p>With values in decimal form, reducing <code>digits</code> to 3 has
the expected effect of rounding to the units place.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/format_units.html">format_units</a></span><span class="op">(</span><span class="va">x</span>, digits <span class="op">=</span> <span class="fl">3</span>, unit <span class="op">=</span> <span class="st">"K"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "288 [K]" "271 [K]" "250 [K]" "247 [K]" "227 [K]" "223 [K]" "220 [K]"</span></span>
<span><span class="co">#&gt; [8] "217 [K]" "199 [K]"</span></span></code></pre></div>
<p>However, reducing <code>digits</code> to 2 has no additional effect.
To reduce the number of significant digits further, we apply
<code><a href="https://rdrr.io/r/base/Round.html" class="external-link">signif()</a></code> to the numerical values before formatting with
<code><a href="../reference/format_units.html">format_units()</a></code>.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Values are not converted to 2 significant digits</span></span>
<span><span class="fu"><a href="../reference/format_units.html">format_units</a></span><span class="op">(</span><span class="va">x</span>, digits <span class="op">=</span> <span class="fl">2</span>, unit <span class="op">=</span> <span class="st">"K"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "288 [K]" "271 [K]" "250 [K]" "247 [K]" "227 [K]" "223 [K]" "220 [K]"</span></span>
<span><span class="co">#&gt; [8] "217 [K]" "199 [K]"</span></span>
<span></span>
<span><span class="co"># Apply signif() before formatting</span></span>
<span><span class="fu"><a href="../reference/format_units.html">format_units</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">signif</a></span><span class="op">(</span><span class="va">x</span>, <span class="fl">2</span><span class="op">)</span>, unit <span class="op">=</span> <span class="st">"K"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "290 [K]" "270 [K]" "250 [K]" "250 [K]" "230 [K]" "220 [K]" "220 [K]"</span></span>
<span><span class="co">#&gt; [8] "220 [K]" "200 [K]"</span></span></code></pre></div>
<p>If values span different orders of magnitude, the number of
significant digits is applied to the <em>smallest magnitude value</em>
and the number of decimal places in the other values is set to
match.</p>
<p>For example, from the <code>metals</code> data set included with
<code>formatdown</code>, the elastic modulus values (Pa) are converted
to (GPa) with <code>digits = 3</code>.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sort.html" class="external-link">sort</a></span><span class="op">(</span><span class="va">metals</span><span class="op">$</span><span class="va">elast_mod</span>, decreasing <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/units.html" class="external-link">units</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="st">"Pa"</span></span>
<span><span class="fu"><a href="../reference/format_units.html">format_units</a></span><span class="op">(</span><span class="va">x</span>, digits <span class="op">=</span> <span class="fl">3</span>, unit <span class="op">=</span> <span class="st">"GPa"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "206.8 [GPa]" "146.9 [GPa]" "117.2 [GPa]" "102.0 [GPa]" "73.1 [GPa]" </span></span>
<span><span class="co">#&gt; [6] "13.8 [GPa]"</span></span></code></pre></div>
<p>Three digits applied to the smallest magnitude value yields “13.8
[GPa]”. Larger values are then formatted to the same number of decimal
places. Thus some larger values will have more than three digits, e.g.,
“206.8 [GPa]”.</p>
</div>
<div class="section level2">
<h2 id="data-frame">Data frame<a class="anchor" aria-label="anchor" href="#data-frame"></a>
</h2>
<p>Using the <code>atmos</code> data set include with
<code>formatdown</code> with various atmospheric properties as a
function of height above sea level.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Data set included with formatdown</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/copy.html" class="external-link">copy</a></span><span class="op">(</span><span class="va">atmos</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Render in document</span></span>
<span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="va">DT</span>, align <span class="op">=</span> <span class="st">"r"</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="right">alt</th>
<th align="right">temp</th>
<th align="right">pres</th>
<th align="right">dens</th>
<th align="right">sound</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right">0</td>
<td align="right">288.15</td>
<td align="right">101300.00</td>
<td align="right">1.23e+00</td>
<td align="right">340.29</td>
</tr>
<tr class="even">
<td align="right">10000</td>
<td align="right">223.25</td>
<td align="right">26500.00</td>
<td align="right">4.14e-01</td>
<td align="right">299.53</td>
</tr>
<tr class="odd">
<td align="right">20000</td>
<td align="right">216.65</td>
<td align="right">5529.00</td>
<td align="right">8.89e-02</td>
<td align="right">295.07</td>
</tr>
<tr class="even">
<td align="right">30000</td>
<td align="right">226.51</td>
<td align="right">1197.00</td>
<td align="right">1.84e-02</td>
<td align="right">301.71</td>
</tr>
<tr class="odd">
<td align="right">40000</td>
<td align="right">250.35</td>
<td align="right">287.00</td>
<td align="right">4.00e-03</td>
<td align="right">317.19</td>
</tr>
<tr class="even">
<td align="right">50000</td>
<td align="right">270.65</td>
<td align="right">80.00</td>
<td align="right">1.03e-03</td>
<td align="right">329.80</td>
</tr>
<tr class="odd">
<td align="right">60000</td>
<td align="right">247.02</td>
<td align="right">22.00</td>
<td align="right">3.10e-04</td>
<td align="right">315.07</td>
</tr>
<tr class="even">
<td align="right">70000</td>
<td align="right">219.59</td>
<td align="right">5.22</td>
<td align="right">8.28e-05</td>
<td align="right">297.06</td>
</tr>
<tr class="odd">
<td align="right">80000</td>
<td align="right">198.64</td>
<td align="right">1.05</td>
<td align="right">1.85e-05</td>
<td align="right">282.54</td>
</tr>
</tbody>
</table>
<p>Formatting one column at a time, assigning and converting units, and
assigning significant digits ad-hoc. When numerical values in a column
span a number of orders of magnitude, the number in the column with the
smallest magnitude, e.g., pressure or density last row, is displayed
with the number of significant digits specified by the
<code>digits</code> argument.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/units.html" class="external-link">units</a></span><span class="op">(</span><span class="va">DT</span><span class="op">$</span><span class="va">alt</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="st">"m"</span></span>
<span><span class="va">DT</span><span class="op">[</span>, <span class="va">alt</span> <span class="op">:=</span> <span class="fu"><a href="../reference/format_units.html">format_units</a></span><span class="op">(</span><span class="va">alt</span>, unit <span class="op">=</span> <span class="st">"km"</span><span class="op">)</span><span class="op">]</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/units.html" class="external-link">units</a></span><span class="op">(</span><span class="va">DT</span><span class="op">$</span><span class="va">temp</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="st">"K"</span></span>
<span><span class="va">DT</span><span class="op">[</span>, <span class="va">temp</span> <span class="op">:=</span> <span class="fu"><a href="../reference/format_units.html">format_units</a></span><span class="op">(</span><span class="va">temp</span>, <span class="fl">3</span>, unit <span class="op">=</span> <span class="st">"deg_C"</span><span class="op">)</span><span class="op">]</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/units.html" class="external-link">units</a></span><span class="op">(</span><span class="va">DT</span><span class="op">$</span><span class="va">pres</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="st">"Pa"</span></span>
<span><span class="va">DT</span><span class="op">[</span>, <span class="va">pres</span> <span class="op">:=</span> <span class="fu"><a href="../reference/format_units.html">format_units</a></span><span class="op">(</span><span class="va">pres</span>, unit <span class="op">=</span> <span class="st">"hPa"</span><span class="op">)</span><span class="op">]</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/units.html" class="external-link">units</a></span><span class="op">(</span><span class="va">DT</span><span class="op">$</span><span class="va">dens</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="st">"kg/m^3"</span></span>
<span><span class="va">DT</span><span class="op">[</span>, <span class="va">dens</span> <span class="op">:=</span> <span class="fu"><a href="../reference/format_units.html">format_units</a></span><span class="op">(</span><span class="va">dens</span>, unit <span class="op">=</span> <span class="st">"g/m^3"</span>, unit_form <span class="op">=</span> <span class="st">"implicit"</span><span class="op">)</span><span class="op">]</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/units.html" class="external-link">units</a></span><span class="op">(</span><span class="va">DT</span><span class="op">$</span><span class="va">sound</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="st">"m/s"</span></span>
<span><span class="va">DT</span><span class="op">[</span>, <span class="va">sound</span> <span class="op">:=</span> <span class="fu"><a href="../reference/format_units.html">format_units</a></span><span class="op">(</span><span class="va">sound</span>, <span class="fl">4</span><span class="op">)</span><span class="op">]</span></span>
<span></span>
<span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span></span>
<span>  <span class="va">DT</span>,</span>
<span>  align <span class="op">=</span> <span class="st">"r"</span>,</span>
<span>  col.names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Altitude"</span>, <span class="st">"Temperature"</span>, <span class="st">"Pressure"</span>, <span class="st">"Density"</span>, <span class="st">"Speed of sound"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="right">Altitude</th>
<th align="right">Temperature</th>
<th align="right">Pressure</th>
<th align="right">Density</th>
<th align="right">Speed of sound</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right">0 [km]</td>
<td align="right">15.0 [°C]</td>
<td align="right">1013.00 [hPa]</td>
<td align="right">1230.00 [g m-3]</td>
<td align="right">340.3 [m/s]</td>
</tr>
<tr class="even">
<td align="right">10 [km]</td>
<td align="right">-49.9 [°C]</td>
<td align="right">265.00 [hPa]</td>
<td align="right">414.00 [g m-3]</td>
<td align="right">299.5 [m/s]</td>
</tr>
<tr class="odd">
<td align="right">20 [km]</td>
<td align="right">-56.5 [°C]</td>
<td align="right">55.29 [hPa]</td>
<td align="right">88.90 [g m-3]</td>
<td align="right">295.1 [m/s]</td>
</tr>
<tr class="even">
<td align="right">30 [km]</td>
<td align="right">-46.6 [°C]</td>
<td align="right">11.97 [hPa]</td>
<td align="right">18.40 [g m-3]</td>
<td align="right">301.7 [m/s]</td>
</tr>
<tr class="odd">
<td align="right">40 [km]</td>
<td align="right">-22.8 [°C]</td>
<td align="right">2.87 [hPa]</td>
<td align="right">4.00 [g m-3]</td>
<td align="right">317.2 [m/s]</td>
</tr>
<tr class="even">
<td align="right">50 [km]</td>
<td align="right">-2.5 [°C]</td>
<td align="right">0.80 [hPa]</td>
<td align="right">1.03 [g m-3]</td>
<td align="right">329.8 [m/s]</td>
</tr>
<tr class="odd">
<td align="right">60 [km]</td>
<td align="right">-26.1 [°C]</td>
<td align="right">0.22 [hPa]</td>
<td align="right">0.31 [g m-3]</td>
<td align="right">315.1 [m/s]</td>
</tr>
<tr class="even">
<td align="right">70 [km]</td>
<td align="right">-53.6 [°C]</td>
<td align="right">0.05 [hPa]</td>
<td align="right">0.08 [g m-3]</td>
<td align="right">297.1 [m/s]</td>
</tr>
<tr class="odd">
<td align="right">80 [km]</td>
<td align="right">-74.5 [°C]</td>
<td align="right">0.01 [hPa]</td>
<td align="right">0.02 [g m-3]</td>
<td align="right">282.5 [m/s]</td>
</tr>
</tbody>
</table>
</div>
<div class="section level2">
<h2 id="us-customary-units">US customary units<a class="anchor" aria-label="anchor" href="#us-customary-units"></a>
</h2>
<p>The same table can be formatted in US customary units as shown
below.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Data set included with formatdown</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/copy.html" class="external-link">copy</a></span><span class="op">(</span><span class="va">atmos</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/units.html" class="external-link">units</a></span><span class="op">(</span><span class="va">DT</span><span class="op">$</span><span class="va">alt</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="st">"m"</span></span>
<span><span class="va">DT</span><span class="op">[</span>, <span class="va">alt</span> <span class="op">:=</span> <span class="fu"><a href="../reference/format_units.html">format_units</a></span><span class="op">(</span><span class="va">alt</span>, unit <span class="op">=</span> <span class="st">"ft"</span><span class="op">)</span><span class="op">]</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/units.html" class="external-link">units</a></span><span class="op">(</span><span class="va">DT</span><span class="op">$</span><span class="va">temp</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="st">"K"</span></span>
<span><span class="va">DT</span><span class="op">[</span>, <span class="va">temp</span> <span class="op">:=</span> <span class="fu"><a href="../reference/format_units.html">format_units</a></span><span class="op">(</span><span class="va">temp</span>, <span class="fl">2</span>, unit <span class="op">=</span> <span class="st">"deg_F"</span><span class="op">)</span><span class="op">]</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/units.html" class="external-link">units</a></span><span class="op">(</span><span class="va">DT</span><span class="op">$</span><span class="va">pres</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="st">"Pa"</span></span>
<span><span class="va">DT</span><span class="op">[</span>, <span class="va">pres</span> <span class="op">:=</span> <span class="fu"><a href="../reference/format_units.html">format_units</a></span><span class="op">(</span><span class="va">pres</span>, unit <span class="op">=</span> <span class="st">"psi"</span><span class="op">)</span><span class="op">]</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/units.html" class="external-link">units</a></span><span class="op">(</span><span class="va">DT</span><span class="op">$</span><span class="va">dens</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="st">"kg/m^3"</span></span>
<span><span class="va">DT</span><span class="op">[</span>, <span class="va">dens</span> <span class="op">:=</span> <span class="fu"><a href="../reference/format_units.html">format_units</a></span><span class="op">(</span><span class="va">dens</span>, unit <span class="op">=</span> <span class="st">"lb/ft^3"</span>, unit_form <span class="op">=</span> <span class="st">"implicit"</span><span class="op">)</span><span class="op">]</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/units.html" class="external-link">units</a></span><span class="op">(</span><span class="va">DT</span><span class="op">$</span><span class="va">sound</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="st">"m/s"</span></span>
<span><span class="va">DT</span><span class="op">[</span>, <span class="va">sound</span> <span class="op">:=</span> <span class="fu"><a href="../reference/format_units.html">format_units</a></span><span class="op">(</span><span class="va">sound</span>, <span class="fl">4</span>, unit <span class="op">=</span> <span class="st">"ft/s"</span><span class="op">)</span><span class="op">]</span></span>
<span></span>
<span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span></span>
<span>  <span class="va">DT</span>,</span>
<span>  align <span class="op">=</span> <span class="st">"r"</span>,</span>
<span>  col.names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Altitude"</span>, <span class="st">"Temperature"</span>, <span class="st">"Pressure"</span>, <span class="st">"Density"</span>, <span class="st">"Speed of sound"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<table style="width:100%;" class="table">
<colgroup>
<col width="16%">
<col width="17%">
<col width="19%">
<col width="26%">
<col width="20%">
</colgroup>
<thead><tr class="header">
<th align="right">Altitude</th>
<th align="right">Temperature</th>
<th align="right">Pressure</th>
<th align="right">Density</th>
<th align="right">Speed of sound</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right">0 [ft]</td>
<td align="right">59 [deg_F]</td>
<td align="right">14.6923 [psi]</td>
<td align="right">0.076786 [lb ft-3]</td>
<td align="right">1116.4 [ft/s]</td>
</tr>
<tr class="even">
<td align="right">32808 [ft]</td>
<td align="right">-58 [deg_F]</td>
<td align="right">3.8435 [psi]</td>
<td align="right">0.025845 [lb ft-3]</td>
<td align="right">982.7 [ft/s]</td>
</tr>
<tr class="odd">
<td align="right">65617 [ft]</td>
<td align="right">-70 [deg_F]</td>
<td align="right">0.8019 [psi]</td>
<td align="right">0.005550 [lb ft-3]</td>
<td align="right">968.1 [ft/s]</td>
</tr>
<tr class="even">
<td align="right">98425 [ft]</td>
<td align="right">-52 [deg_F]</td>
<td align="right">0.1736 [psi]</td>
<td align="right">0.001149 [lb ft-3]</td>
<td align="right">989.9 [ft/s]</td>
</tr>
<tr class="odd">
<td align="right">131234 [ft]</td>
<td align="right">-9 [deg_F]</td>
<td align="right">0.0416 [psi]</td>
<td align="right">0.000250 [lb ft-3]</td>
<td align="right">1040.6 [ft/s]</td>
</tr>
<tr class="even">
<td align="right">164042 [ft]</td>
<td align="right">27 [deg_F]</td>
<td align="right">0.0116 [psi]</td>
<td align="right">0.000064 [lb ft-3]</td>
<td align="right">1082.0 [ft/s]</td>
</tr>
<tr class="odd">
<td align="right">196850 [ft]</td>
<td align="right">-15 [deg_F]</td>
<td align="right">0.0032 [psi]</td>
<td align="right">0.000019 [lb ft-3]</td>
<td align="right">1033.7 [ft/s]</td>
</tr>
<tr class="even">
<td align="right">229659 [ft]</td>
<td align="right">-64 [deg_F]</td>
<td align="right">0.0008 [psi]</td>
<td align="right">0.000005 [lb ft-3]</td>
<td align="right">974.6 [ft/s]</td>
</tr>
<tr class="odd">
<td align="right">262467 [ft]</td>
<td align="right">-102 [deg_F]</td>
<td align="right">0.0002 [psi]</td>
<td align="right">0.000001 [lb ft-3]</td>
<td align="right">927.0 [ft/s]</td>
</tr>
</tbody>
</table>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by <a href="https://github.com/graphdr/" class="external-link">Richard Layton</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
