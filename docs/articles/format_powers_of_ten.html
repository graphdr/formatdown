<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="formatdown">
<title>Format powers of ten • formatdown</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="Format powers of ten">
<meta property="og:description" content="formatdown">
<meta property="og:image" content="https://graphdr.github.io/formatdown/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">formatdown</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.2</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-vignettes">Vignettes</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-vignettes">
    <a class="dropdown-item" href="../articles/format_powers_of_ten.html">Format powers of ten</a>
    <a class="dropdown-item" href="../articles/format_integers_and_decimals.html">Format integers and decimals</a>
    <a class="dropdown-item" href="../articles/format_units.html">Format units</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">News</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/graphdr/formatdown/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Format powers of ten</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/graphdr/formatdown/blob/HEAD/vignettes/format_powers_of_ten.Rmd" class="external-link"><code>vignettes/format_powers_of_ten.Rmd</code></a></small>
      <div class="d-none name"><code>format_powers_of_ten.Rmd</code></div>
    </div>

    
    
<p><img src="../reference/figures/powers-of-ten-chart-2.png" style="width:70.0%"><br><small>Chart by Jeff Cruzan is licensed under CC BY-NC-SA
3.0</small></p>
<p><br></p>
<p>The notation we use to represent large and small numbers depends on
the context of our communications. In a computer script, for example, we
might encode Avogadro’s number as <code>6.0221*10^23</code>. A computer
printout of this number would typically use E-notation, as in
<code>6.0221E+23</code>.</p>
<p>In professional technical communications, however, computer syntax
should be avoided—the asterisk (<code>*</code>) and carat
(<code>^</code>) in <code>6.0221*10^23</code> communicate
<em>instructions to a computer</em>, not <em>syntactical
mathematics</em>. And while scientific E-notation
(<code>6.0221E+23</code>) has currency in some discourse communities,
the general convention in technical communications is to format large
and small numbers using powers-of-ten notation of the form,</p>
<p><span class="math display">\[
a \times 10^n,
\]</span></p>
<p>The <span class="math inline">\(\times\)</span> multiplication
symbol, often avoided in other contexts, is conventional syntax in
powers-of-ten notation. Also, the notation has two forms in general use:
<em>scientific</em> and <em>engineering</em> (Chase 2021, 63–67).</p>
<ul>
<li><p><em>Scientific.</em>   <span class="math inline">\(n\)</span> is
an integer and <span class="math inline">\(a \in Re:
1\leq{|a|}&lt;10\)</span>. For example, <span class="math inline">\(6.022 \times 10^{23}\)</span></p></li>
<li><p><em>Engineering.</em>   <span class="math inline">\(n\)</span> is
a multiple of 3 and <span class="math inline">\(a \in Re:
1\leq{|a|}&lt;1000\)</span>. For example, <span class="math inline">\(602.2 \times 10^{21}\)</span></p></li>
</ul>
<p><em>Exceptions.</em>   When exponents are in the neighborhood of
zero, for example, <span class="math inline">\(n \in \{-1, 0, 1,
2\}\)</span>, decimal notation may be preferred to power of ten
notation. Decimal values such as 0.1234, 1.234, 12.34, and 123.4 might
be printed as-is. The range of exponents to include in this set is
discretionary.</p>
<p><em>Notes on syntax.</em>   We have to distinguish between computer
syntax, math syntax, and markup syntax.</p>
<ul>
<li><p>Anyone who has written a line of code involving multiplication is
familiar with the asterisk as the multiplication operator, e.g.,
<code>x = a * b</code> or <code>y = a * (b + c)</code>. In written
mathematics, however, these expressions are written without
multiplication symbols, that is, <span class="math inline">\(x=ab\)</span> and <span class="math inline">\(y=a(b+c)\)</span>. Moreover, mathematically the
asterisk has a completely different meaning—it represents the
<em>convolution</em> operation between two functions, as in <span class="math inline">\(\left(f * g \right)(t)\)</span>.</p></li>
<li><p>The carat symbol (<code>^</code>), to the best of my knowledge,
is a programming operator only; mathematically it has no
meaning.</p></li>
<li><p>In our markup language, <code>\times</code> is the product symbol
and <code>^</code> indicates a superscript or exponent.</p></li>
</ul>
<div class="section level2">
<h2 id="markup">Markup<a class="anchor" aria-label="anchor" href="#markup"></a>
</h2>
<p>In R Markdown and Quarto Markdown, we use an inline equation markup
delimited by <code>$ ... $</code> to create a math expression in the
output document (<code>\( ... \)</code> is also an option). For example,
the markup for Avogadro’s number is given by,</p>
<pre><code>    $6.0221 \times 10^{23}$</code></pre>
<p>which yields <span class="math inline">\(6.0221 \times
10^{23}\)</span> in the document. To <em>program</em> the markup,
however, we enclose the markup as a character string, that is,</p>
<pre><code><span>    <span class="st">"$6.0221 \\times 10^{23}$"</span></span></code></pre>
<p>which requires the backward slash <code>\</code> to be “escaped”,
hence the product symbol is <code>\\times</code>. This is the form of
the output produced by <code><a href="../reference/format_power.html">format_power()</a></code>.</p>
</div>
<div class="section level2">
<h2 id="format_power">
<code>format_power()</code><a class="anchor" aria-label="anchor" href="#format_power"></a>
</h2>
<p>Given a number, a numerical vector, or a numerical column from a data
frame, <code><a href="../reference/format_power.html">format_power()</a></code> converts the numbers to character
strings of the form,</p>
<pre><code><span>    <span class="st">"$a \\times 10^{n}$"</span> </span></code></pre>
<p>where <code>a</code> is the coefficient and <code>n</code> is the
exponent. The user can specify the number of significant digits and
scientific or engineering format. Unless otherwise specified, numbers
with exponents in the neighborhood of zero are excluded from power of
ten notation and are converted to character strings of the form,</p>
<pre><code><span>    <span class="st">"$a$"</span> </span></code></pre>
<p>where <code>a</code> is the number in decimal notation to the
specified number of significant digits.</p>
<p><em>Arguments.</em></p>
<ul>
<li><p><strong>x</strong>   Numerical vector to be formatted. Can be a
scalar, a vector, or a column from a data frame.</p></li>
<li><p><strong>digits</strong>   Positive nonzero integer to specify the
number of significant digits. Default is 4.</p></li>
<li><p><strong>format</strong>   Possible values are “engr” (engineering
notation) and “sci” (scientific notation). Default is “engr”.</p></li>
<li><p><strong>omit_power</strong>   Numeric vector of length two (or
NULL). Determines the range of exponents excluded from power-of-ten
notation. Default is <code>c(-1, 2)</code>.</p></li>
<li><p><strong>set_power</strong>   Integer assigned as the fixed
power-of-ten, overriding scientific or engineering formatting. Default
NULL.</p></li>
<li><p><strong>delim</strong>   Character vector of length one or two
defining the math markup delimiters. Possible values include
<code>"$"</code> or <code>"\\("</code>, both of which create appropriate
left and right delimiters. Custom delimiters can be assigned if required
by one’s TeX processor.</p></li>
</ul>
<p>If you are writing your own script to follow along, we use these
packages in this vignette:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://github.com/graphdr/formatdown/" class="external-link">"formatdown"</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://r-datatable.com" class="external-link">"data.table"</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://yihui.org/knitr/" class="external-link">"knitr"</a></span><span class="op">)</span></span></code></pre></div>
<p><em>Equivalent usage.</em>   The first two arguments do not have to
be named if the argument order is maintained.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Numerical value</span></span>
<span><span class="va">avogadro</span> <span class="op">&lt;-</span> <span class="fl">6.0221E+23</span></span>
<span></span>
<span><span class="co"># Arguments named</span></span>
<span><span class="op">(</span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/format_power.html">format_power</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">avogadro</span>, digits <span class="op">=</span> <span class="fl">4</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "$602.2 \\times 10^{21}$"</span></span>
<span></span>
<span><span class="co"># Arguments unnamed</span></span>
<span><span class="va">y</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/format_power.html">format_power</a></span><span class="op">(</span><span class="va">avogadro</span>, <span class="fl">4</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Implicit use of default argument</span></span>
<span><span class="va">z</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/format_power.html">format_power</a></span><span class="op">(</span><span class="va">avogadro</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Demonstrate equivalence</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/all.equal.html" class="external-link">all.equal</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] TRUE</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/all.equal.html" class="external-link">all.equal</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">z</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] TRUE</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="scalar">Scalar<a class="anchor" aria-label="anchor" href="#scalar"></a>
</h2>
<p>Use with inline R code.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/format_power.html">format_power</a></span><span class="op">(</span><span class="va">avogadro</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "$602.2 \\times 10^{21}$"</span></span></code></pre></div>
<p>which, in an <code>.Rmd</code> or <code>.qmd</code> document, is
rendered as <span class="math inline">\(602.2 \times
10^{21}\)</span>.</p>
</div>
<div class="section level2">
<h2 id="vector">Vector<a class="anchor" aria-label="anchor" href="#vector"></a>
</h2>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>  <span class="fl">1.2222e-6</span>, <span class="fl">2.3333e-5</span>, <span class="fl">3.4444e-4</span>, <span class="fl">4.1111e-3</span>, <span class="fl">5.2222e-2</span>, <span class="fl">6.3333e-1</span>,</span>
<span>  <span class="fl">7.4444e+0</span>, <span class="fl">8.1111e+1</span>, <span class="fl">9.2222e+2</span>, <span class="fl">1.3333e+3</span>, <span class="fl">2.4444e+4</span>, <span class="fl">3.1111e+5</span>, <span class="fl">4.2222e+6</span></span>
<span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/format_power.html">format_power</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span><span class="co">#&gt;  [1] "$1.222 \\times 10^{-6}$" "$23.33 \\times 10^{-6}$"</span></span>
<span><span class="co">#&gt;  [3] "$344.4 \\times 10^{-6}$" "$4.111 \\times 10^{-3}$"</span></span>
<span><span class="co">#&gt;  [5] "$52.22 \\times 10^{-3}$" "$0.6333$"               </span></span>
<span><span class="co">#&gt;  [7] "$7.444$"                 "$81.11$"                </span></span>
<span><span class="co">#&gt;  [9] "$922.2 \\times 10^{0}$"  "$1.333 \\times 10^{3}$" </span></span>
<span><span class="co">#&gt; [11] "$24.44 \\times 10^{3}$"  "$311.1 \\times 10^{3}$" </span></span>
<span><span class="co">#&gt; [13] "$4.222 \\times 10^{6}$"</span></span></code></pre></div>
<p>is rendered as <span class="math inline">\(1.222 \times
10^{-6}\)</span>, <span class="math inline">\(23.33 \times
10^{-6}\)</span>, <span class="math inline">\(344.4 \times
10^{-6}\)</span>, <span class="math inline">\(4.111 \times
10^{-3}\)</span>, etc.</p>
</div>
<div class="section level2">
<h2 id="significant-digits">Significant digits<a class="anchor" aria-label="anchor" href="#significant-digits"></a>
</h2>
<p>Argument does not have to be named.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/format_power.html">format_power</a></span><span class="op">(</span><span class="va">x</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>, <span class="fl">3</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "$1.22 \\times 10^{-6}$"</span></span>
<span><span class="fu"><a href="../reference/format_power.html">format_power</a></span><span class="op">(</span><span class="va">x</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>, <span class="fl">4</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "$1.222 \\times 10^{-6}$"</span></span></code></pre></div>
<p>are rendered as</p>
<ul>
<li><span class="math inline">\(1.22 \times 10^{-6}\)</span></li>
<li><span class="math inline">\(1.222 \times 10^{-6}\)</span></li>
</ul>
</div>
<div class="section level2">
<h2 id="format">Format<a class="anchor" aria-label="anchor" href="#format"></a>
</h2>
<p><code>format</code> argument default value is “engr”. If included,
argument must be named.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/format_power.html">format_power</a></span><span class="op">(</span><span class="va">x</span><span class="op">[</span><span class="fl">3</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "$344.4 \\times 10^{-6}$"</span></span>
<span><span class="fu"><a href="../reference/format_power.html">format_power</a></span><span class="op">(</span><span class="va">x</span><span class="op">[</span><span class="fl">3</span><span class="op">]</span>, format <span class="op">=</span> <span class="st">"sci"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "$3.444 \\times 10^{-4}$"</span></span></code></pre></div>
<p>are rendered as</p>
<ul>
<li><span class="math inline">\(344.4 \times 10^{-6}\)</span></li>
<li><span class="math inline">\(3.444 \times 10^{-4}\)</span></li>
</ul>
<p>To compare the effects across many orders of magnitude, we format the
example vector twice, placing the results side by side in a data frame
for comparison, rendered using <code><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">knitr::kable()</a></code>,</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Compare two formats</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/data.table.html" class="external-link">data.table</a></span><span class="op">(</span></span>
<span>  scientific  <span class="op">=</span> <span class="fu"><a href="../reference/format_power.html">format_power</a></span><span class="op">(</span><span class="va">x</span>, <span class="fl">3</span>, format <span class="op">=</span> <span class="st">"sci"</span><span class="op">)</span>,</span>
<span>  engineering <span class="op">=</span> <span class="fu"><a href="../reference/format_power.html">format_power</a></span><span class="op">(</span><span class="va">x</span>, <span class="fl">3</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="va">DT</span>, align <span class="op">=</span> <span class="st">"r"</span>, col.names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"scientific notation"</span>, <span class="st">"engineering notation"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="right">scientific notation</th>
<th align="right">engineering notation</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right"><span class="math inline">\(1.22 \times
10^{-6}\)</span></td>
<td align="right"><span class="math inline">\(1.22 \times
10^{-6}\)</span></td>
</tr>
<tr class="even">
<td align="right"><span class="math inline">\(2.33 \times
10^{-5}\)</span></td>
<td align="right"><span class="math inline">\(23.3 \times
10^{-6}\)</span></td>
</tr>
<tr class="odd">
<td align="right"><span class="math inline">\(3.44 \times
10^{-4}\)</span></td>
<td align="right"><span class="math inline">\(344 \times
10^{-6}\)</span></td>
</tr>
<tr class="even">
<td align="right"><span class="math inline">\(4.11 \times
10^{-3}\)</span></td>
<td align="right"><span class="math inline">\(4.11 \times
10^{-3}\)</span></td>
</tr>
<tr class="odd">
<td align="right"><span class="math inline">\(5.22 \times
10^{-2}\)</span></td>
<td align="right"><span class="math inline">\(52.2 \times
10^{-3}\)</span></td>
</tr>
<tr class="even">
<td align="right"><span class="math inline">\(0.633\)</span></td>
<td align="right"><span class="math inline">\(0.633\)</span></td>
</tr>
<tr class="odd">
<td align="right"><span class="math inline">\(7.44\)</span></td>
<td align="right"><span class="math inline">\(7.44\)</span></td>
</tr>
<tr class="even">
<td align="right"><span class="math inline">\(81.1\)</span></td>
<td align="right"><span class="math inline">\(81.1\)</span></td>
</tr>
<tr class="odd">
<td align="right"><span class="math inline">\(9.22 \times
10^{2}\)</span></td>
<td align="right"><span class="math inline">\(922 \times
10^{0}\)</span></td>
</tr>
<tr class="even">
<td align="right"><span class="math inline">\(1.33 \times
10^{3}\)</span></td>
<td align="right"><span class="math inline">\(1.33 \times
10^{3}\)</span></td>
</tr>
<tr class="odd">
<td align="right"><span class="math inline">\(2.44 \times
10^{4}\)</span></td>
<td align="right"><span class="math inline">\(24.4 \times
10^{3}\)</span></td>
</tr>
<tr class="even">
<td align="right"><span class="math inline">\(3.11 \times
10^{5}\)</span></td>
<td align="right"><span class="math inline">\(311 \times
10^{3}\)</span></td>
</tr>
<tr class="odd">
<td align="right"><span class="math inline">\(4.22 \times
10^{6}\)</span></td>
<td align="right"><span class="math inline">\(4.22 \times
10^{6}\)</span></td>
</tr>
</tbody>
</table>
<p>The values displayed without powers-of-ten notation are in the range
set by the <code>omit_power</code> argument, described in the next
section.</p>
</div>
<div class="section level2">
<h2 id="omit-power-notation">Omit power notation<a class="anchor" aria-label="anchor" href="#omit-power-notation"></a>
</h2>
<p><code>omit_power</code> argument, if included, must be named.</p>
<p>Suppose, for example, we want the value 0.0678 to be rendered without
powers-of-ten notation. The exponent for this number in scientific
notation is <span class="math inline">\(-2\)</span>, as in <span class="math inline">\(6.780 \times 10^{-2}\)</span>. If this exponent is
within the range set by <code>omit_power</code>, the number is rendered
without power-of-ten notation (overriding the <code>format</code>
argument).</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/format_power.html">format_power</a></span><span class="op">(</span><span class="fl">0.0678</span>, <span class="fl">3</span>, format <span class="op">=</span> <span class="st">"sci"</span>, omit_power <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">2</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "$0.0678$"</span></span>
<span><span class="fu"><a href="../reference/format_power.html">format_power</a></span><span class="op">(</span><span class="fl">0.0678</span>, <span class="fl">3</span>, format <span class="op">=</span> <span class="st">"sci"</span>, omit_power <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "$6.78 \\times 10^{-2}$"</span></span></code></pre></div>
<p>are rendered as</p>
<ul>
<li><span class="math inline">\(0.0678\)</span></li>
<li><span class="math inline">\(6.78 \times 10^{-2}\)</span></li>
</ul>
<p><code>omit_power = NULL</code> removes the exceptions and formats all
numbers in power-of-ten notation.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Omit no values from power-of-ten notation</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/data.table.html" class="external-link">data.table</a></span><span class="op">(</span></span>
<span>  scientific  <span class="op">=</span> <span class="fu"><a href="../reference/format_power.html">format_power</a></span><span class="op">(</span><span class="va">x</span>, <span class="fl">3</span>, format <span class="op">=</span> <span class="st">"sci"</span>, omit_power <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span>,</span>
<span>  engineering <span class="op">=</span> <span class="fu"><a href="../reference/format_power.html">format_power</a></span><span class="op">(</span><span class="va">x</span>, <span class="fl">3</span>, omit_power <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="va">DT</span>, align <span class="op">=</span> <span class="st">"r"</span>, col.names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"scientific notation"</span>, <span class="st">"engineering notation"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="right">scientific notation</th>
<th align="right">engineering notation</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right"><span class="math inline">\(1.22 \times
10^{-6}\)</span></td>
<td align="right"><span class="math inline">\(1.22 \times
10^{-6}\)</span></td>
</tr>
<tr class="even">
<td align="right"><span class="math inline">\(2.33 \times
10^{-5}\)</span></td>
<td align="right"><span class="math inline">\(23.3 \times
10^{-6}\)</span></td>
</tr>
<tr class="odd">
<td align="right"><span class="math inline">\(3.44 \times
10^{-4}\)</span></td>
<td align="right"><span class="math inline">\(344 \times
10^{-6}\)</span></td>
</tr>
<tr class="even">
<td align="right"><span class="math inline">\(4.11 \times
10^{-3}\)</span></td>
<td align="right"><span class="math inline">\(4.11 \times
10^{-3}\)</span></td>
</tr>
<tr class="odd">
<td align="right"><span class="math inline">\(5.22 \times
10^{-2}\)</span></td>
<td align="right"><span class="math inline">\(52.2 \times
10^{-3}\)</span></td>
</tr>
<tr class="even">
<td align="right"><span class="math inline">\(6.33 \times
10^{-1}\)</span></td>
<td align="right"><span class="math inline">\(633 \times
10^{-3}\)</span></td>
</tr>
<tr class="odd">
<td align="right"><span class="math inline">\(7.44 \times
10^{0}\)</span></td>
<td align="right"><span class="math inline">\(7.44 \times
10^{0}\)</span></td>
</tr>
<tr class="even">
<td align="right"><span class="math inline">\(8.11 \times
10^{1}\)</span></td>
<td align="right"><span class="math inline">\(81.1 \times
10^{0}\)</span></td>
</tr>
<tr class="odd">
<td align="right"><span class="math inline">\(9.22 \times
10^{2}\)</span></td>
<td align="right"><span class="math inline">\(922 \times
10^{0}\)</span></td>
</tr>
<tr class="even">
<td align="right"><span class="math inline">\(1.33 \times
10^{3}\)</span></td>
<td align="right"><span class="math inline">\(1.33 \times
10^{3}\)</span></td>
</tr>
<tr class="odd">
<td align="right"><span class="math inline">\(2.44 \times
10^{4}\)</span></td>
<td align="right"><span class="math inline">\(24.4 \times
10^{3}\)</span></td>
</tr>
<tr class="even">
<td align="right"><span class="math inline">\(3.11 \times
10^{5}\)</span></td>
<td align="right"><span class="math inline">\(311 \times
10^{3}\)</span></td>
</tr>
<tr class="odd">
<td align="right"><span class="math inline">\(4.22 \times
10^{6}\)</span></td>
<td align="right"><span class="math inline">\(4.22 \times
10^{6}\)</span></td>
</tr>
</tbody>
</table>
</div>
<div class="section level2">
<h2 id="set-power-notation">Set power notation<a class="anchor" aria-label="anchor" href="#set-power-notation"></a>
</h2>
<p><code>set_power</code> argument, if included, must be named.</p>
<p>When values in a table column span a few orders of magnitude, an
audience is often better served by setting the notation to a constant
power of ten. In the example below, we show the tabulated values of the
viscosity of water as a function of temperature (from the
<code>water</code> data set included with <code>formatdown</code>).</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Copy to avoid by-reference changes</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/copy.html" class="external-link">copy</a></span><span class="op">(</span><span class="va">water</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Convert temperature from K to C</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">DT</span><span class="op">[</span>, <span class="fu">.</span><span class="op">(</span>temp <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">temp</span> <span class="op">-</span> <span class="fl">273.15</span><span class="op">)</span>, <span class="va">visc</span><span class="op">)</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># Create two columns to compare</span></span>
<span><span class="va">DT</span><span class="op">[</span>, <span class="va">ver1</span> <span class="op">:=</span> <span class="fu"><a href="../reference/format_power.html">format_power</a></span><span class="op">(</span><span class="va">visc</span>, <span class="fl">3</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="va">DT</span><span class="op">[</span>, <span class="va">ver2</span> <span class="op">:=</span> <span class="fu"><a href="../reference/format_power.html">format_power</a></span><span class="op">(</span><span class="va">visc</span>, <span class="fl">3</span>, set_power <span class="op">=</span> <span class="op">-</span><span class="fl">3</span><span class="op">)</span><span class="op">]</span></span></code></pre></div>
<p>The first two columns are unformatted. The third column, in
engineering format, includes exponents of <span class="math inline">\(-3\)</span> and <span class="math inline">\(-6\)</span>. In the last column, we set the
exponents to <span class="math inline">\(-3\)</span> throughout.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="va">DT</span>, align <span class="op">=</span> <span class="st">"r"</span>, col.names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>  <span class="st">"Temperature [C]"</span>, <span class="st">"Viscosity [Pa s]"</span>, <span class="st">"engineering notation"</span>, <span class="st">"with fixed exponent"</span></span>
<span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="20%">
<col width="21%">
<col width="28%">
<col width="29%">
</colgroup>
<thead><tr class="header">
<th align="right">Temperature [C]</th>
<th align="right">Viscosity [Pa s]</th>
<th align="right">engineering notation</th>
<th align="right">with fixed exponent</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right">0</td>
<td align="right">0.0017336</td>
<td align="right"><span class="math inline">\(1.73 \times
10^{-3}\)</span></td>
<td align="right"><span class="math inline">\(1.73 \times
10^{-3}\)</span></td>
</tr>
<tr class="even">
<td align="right">10</td>
<td align="right">0.0013105</td>
<td align="right"><span class="math inline">\(1.31 \times
10^{-3}\)</span></td>
<td align="right"><span class="math inline">\(1.31 \times
10^{-3}\)</span></td>
</tr>
<tr class="odd">
<td align="right">20</td>
<td align="right">0.0010212</td>
<td align="right"><span class="math inline">\(1.02 \times
10^{-3}\)</span></td>
<td align="right"><span class="math inline">\(1.02 \times
10^{-3}\)</span></td>
</tr>
<tr class="even">
<td align="right">30</td>
<td align="right">0.0008174</td>
<td align="right"><span class="math inline">\(817 \times
10^{-6}\)</span></td>
<td align="right"><span class="math inline">\(0.817 \times
10^{-3}\)</span></td>
</tr>
<tr class="odd">
<td align="right">40</td>
<td align="right">0.0006699</td>
<td align="right"><span class="math inline">\(670 \times
10^{-6}\)</span></td>
<td align="right"><span class="math inline">\(0.670 \times
10^{-3}\)</span></td>
</tr>
<tr class="even">
<td align="right">50</td>
<td align="right">0.0005605</td>
<td align="right"><span class="math inline">\(560 \times
10^{-6}\)</span></td>
<td align="right"><span class="math inline">\(0.560 \times
10^{-3}\)</span></td>
</tr>
<tr class="odd">
<td align="right">60</td>
<td align="right">0.0004776</td>
<td align="right"><span class="math inline">\(478 \times
10^{-6}\)</span></td>
<td align="right"><span class="math inline">\(0.478 \times
10^{-3}\)</span></td>
</tr>
<tr class="even">
<td align="right">70</td>
<td align="right">0.0004135</td>
<td align="right"><span class="math inline">\(414 \times
10^{-6}\)</span></td>
<td align="right"><span class="math inline">\(0.414 \times
10^{-3}\)</span></td>
</tr>
<tr class="odd">
<td align="right">80</td>
<td align="right">0.0003631</td>
<td align="right"><span class="math inline">\(363 \times
10^{-6}\)</span></td>
<td align="right"><span class="math inline">\(0.363 \times
10^{-3}\)</span></td>
</tr>
<tr class="even">
<td align="right">90</td>
<td align="right">0.0003229</td>
<td align="right"><span class="math inline">\(323 \times
10^{-6}\)</span></td>
<td align="right"><span class="math inline">\(0.323 \times
10^{-3}\)</span></td>
</tr>
<tr class="odd">
<td align="right">100</td>
<td align="right">0.0002902</td>
<td align="right"><span class="math inline">\(290 \times
10^{-6}\)</span></td>
<td align="right"><span class="math inline">\(0.290 \times
10^{-3}\)</span></td>
</tr>
</tbody>
</table>
<p>In the next example, we see that the <code>set_power</code> argument
does not override the <code>omit_power</code> settings</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/copy.html" class="external-link">copy</a></span><span class="op">(</span><span class="va">atmos</span><span class="op">)</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">DT</span><span class="op">[</span>, <span class="fu">.</span><span class="op">(</span>alt <span class="op">=</span> <span class="va">alt</span> <span class="op">/</span> <span class="fl">1000</span>, <span class="va">dens</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="va">DT</span><span class="op">[</span>, <span class="va">ver1</span> <span class="op">:=</span> <span class="fu"><a href="../reference/format_power.html">format_power</a></span><span class="op">(</span><span class="va">dens</span>, <span class="fl">3</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="va">DT</span><span class="op">[</span>, <span class="va">ver2</span> <span class="op">:=</span> <span class="fu"><a href="../reference/format_power.html">format_power</a></span><span class="op">(</span><span class="va">dens</span>, <span class="fl">3</span>, set_power <span class="op">=</span> <span class="op">-</span><span class="fl">3</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="va">DT</span><span class="op">[</span>, <span class="va">ver3</span> <span class="op">:=</span> <span class="fu"><a href="../reference/format_power.html">format_power</a></span><span class="op">(</span><span class="va">dens</span>, <span class="fl">3</span>, set_power <span class="op">=</span> <span class="op">-</span><span class="fl">3</span>, omit_power <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span><span class="op">]</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="va">DT</span>, align <span class="op">=</span> <span class="st">"r"</span>, col.names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>  <span class="st">"Altitude [km]"</span>,</span>
<span>  <span class="st">"Density [kg/m$^3$]"</span>,</span>
<span>  <span class="st">"engineering notation"</span>,</span>
<span>  <span class="st">"with fixed exponent"</span>,</span>
<span>  <span class="st">"omit decimals"</span></span>
<span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="13%">
<col width="18%">
<col width="21%">
<col width="23%">
<col width="23%">
</colgroup>
<thead><tr class="header">
<th align="right">Altitude [km]</th>
<th align="right">Density [kg/m<span class="math inline">\(^3\)</span>]</th>
<th align="right">engineering notation</th>
<th align="right">with fixed exponent</th>
<th align="right">omit decimals</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right">0</td>
<td align="right">1.23e+00</td>
<td align="right"><span class="math inline">\(1.23\)</span></td>
<td align="right"><span class="math inline">\(1.23\)</span></td>
<td align="right"><span class="math inline">\(1230 \times
10^{-3}\)</span></td>
</tr>
<tr class="even">
<td align="right">10</td>
<td align="right">4.14e-01</td>
<td align="right"><span class="math inline">\(0.414\)</span></td>
<td align="right"><span class="math inline">\(0.414\)</span></td>
<td align="right"><span class="math inline">\(414 \times
10^{-3}\)</span></td>
</tr>
<tr class="odd">
<td align="right">20</td>
<td align="right">8.89e-02</td>
<td align="right"><span class="math inline">\(88.9 \times
10^{-3}\)</span></td>
<td align="right"><span class="math inline">\(88.9 \times
10^{-3}\)</span></td>
<td align="right"><span class="math inline">\(88.9 \times
10^{-3}\)</span></td>
</tr>
<tr class="even">
<td align="right">30</td>
<td align="right">1.84e-02</td>
<td align="right"><span class="math inline">\(18.4 \times
10^{-3}\)</span></td>
<td align="right"><span class="math inline">\(18.4 \times
10^{-3}\)</span></td>
<td align="right"><span class="math inline">\(18.4 \times
10^{-3}\)</span></td>
</tr>
<tr class="odd">
<td align="right">40</td>
<td align="right">4.00e-03</td>
<td align="right"><span class="math inline">\(4.00 \times
10^{-3}\)</span></td>
<td align="right"><span class="math inline">\(4.00 \times
10^{-3}\)</span></td>
<td align="right"><span class="math inline">\(4.00 \times
10^{-3}\)</span></td>
</tr>
<tr class="even">
<td align="right">50</td>
<td align="right">1.03e-03</td>
<td align="right"><span class="math inline">\(1.03 \times
10^{-3}\)</span></td>
<td align="right"><span class="math inline">\(1.03 \times
10^{-3}\)</span></td>
<td align="right"><span class="math inline">\(1.03 \times
10^{-3}\)</span></td>
</tr>
<tr class="odd">
<td align="right">60</td>
<td align="right">3.10e-04</td>
<td align="right"><span class="math inline">\(310 \times
10^{-6}\)</span></td>
<td align="right"><span class="math inline">\(0.310 \times
10^{-3}\)</span></td>
<td align="right"><span class="math inline">\(0.310 \times
10^{-3}\)</span></td>
</tr>
<tr class="even">
<td align="right">70</td>
<td align="right">8.28e-05</td>
<td align="right"><span class="math inline">\(82.8 \times
10^{-6}\)</span></td>
<td align="right"><span class="math inline">\(0.0828 \times
10^{-3}\)</span></td>
<td align="right"><span class="math inline">\(0.0828 \times
10^{-3}\)</span></td>
</tr>
<tr class="odd">
<td align="right">80</td>
<td align="right">1.85e-05</td>
<td align="right"><span class="math inline">\(18.5 \times
10^{-6}\)</span></td>
<td align="right"><span class="math inline">\(0.0185 \times
10^{-3}\)</span></td>
<td align="right"><span class="math inline">\(0.0185 \times
10^{-3}\)</span></td>
</tr>
</tbody>
</table>
</div>
<div class="section level2">
<h2 id="delimiters">Delimiters<a class="anchor" aria-label="anchor" href="#delimiters"></a>
</h2>
<p><code>delim</code> argument, if included, must be named.</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Equivalent usage</span></span>
<span><span class="va">w</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/format_power.html">format_power</a></span><span class="op">(</span><span class="va">x</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="va">y</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/format_power.html">format_power</a></span><span class="op">(</span><span class="va">x</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>, delim <span class="op">=</span> <span class="st">"$"</span><span class="op">)</span></span>
<span><span class="va">z</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/format_power.html">format_power</a></span><span class="op">(</span><span class="va">x</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>, delim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"$"</span>, <span class="st">"$"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/all.equal.html" class="external-link">all.equal</a></span><span class="op">(</span><span class="va">w</span>, <span class="va">y</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] TRUE</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/all.equal.html" class="external-link">all.equal</a></span><span class="op">(</span><span class="va">w</span>, <span class="va">z</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] TRUE</span></span></code></pre></div>
<p>all of which render as</p>
<ul>
<li><span class="math inline">\(1.222 \times 10^{-6}\)</span></li>
</ul>
<p>I encountered one instance in which the <code>$ ... $</code>
delimiters did not produce the desired output—using
<code><a href="https://rdrr.io/pkg/kableExtra/man/kbl.html" class="external-link">kableExtra::kbl()</a></code> to create a table in a <code>.qmd</code>
output document. Switching the delimiters to <code>\\( ... \\)</code>
fixed the problem, per the recommendation of the MathJax consortium
(Cervone, 2018).</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/format_power.html">format_power</a></span><span class="op">(</span><span class="va">x</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>, delim <span class="op">=</span> <span class="st">"\\("</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "\\(1.222 \\times 10^{-6}\\)"</span></span>
<span><span class="fu"><a href="../reference/format_power.html">format_power</a></span><span class="op">(</span><span class="va">x</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>, delim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"\\("</span>, <span class="st">"\\)"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "\\(1.222 \\times 10^{-6}\\)"</span></span></code></pre></div>
<p>are both rendered as</p>
<ul>
<li><span class="math inline">\(1.222 \times 10^{-6}\)</span></li>
</ul>
</div>
<div class="section level2">
<h2 id="data-frame">Data frame<a class="anchor" aria-label="anchor" href="#data-frame"></a>
</h2>
<p>Using <code>air_meas</code>, a data frame included with
<code>formatdown</code> that contains columns of class Date, character,
factor, numeric, and integer.</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Included with formatdown</span></span>
<span><span class="va">air_meas</span></span>
<span><span class="co">#&gt;          date  trial  humid  temp   pres sp_gas  dens</span></span>
<span><span class="co">#&gt;        &lt;Date&gt; &lt;char&gt; &lt;fctr&gt; &lt;num&gt;  &lt;num&gt;  &lt;int&gt; &lt;num&gt;</span></span>
<span><span class="co">#&gt; 1: 2018-06-12      a    low 294.1 101100    287 1.198</span></span>
<span><span class="co">#&gt; 2: 2018-06-13      b   high 294.1 101000    287 1.196</span></span>
<span><span class="co">#&gt; 3: 2018-06-14      c    med 294.6 101100    287 1.196</span></span>
<span><span class="co">#&gt; 4: 2018-06-15      d    low 293.4 101000    287 1.200</span></span>
<span><span class="co">#&gt; 5: 2018-06-16      e   high 293.9 101100    287 1.199</span></span>
<span></span>
<span><span class="co"># Render in document</span></span>
<span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="va">air_meas</span>, align <span class="op">=</span> <span class="st">"r"</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="right">date</th>
<th align="right">trial</th>
<th align="right">humid</th>
<th align="right">temp</th>
<th align="right">pres</th>
<th align="right">sp_gas</th>
<th align="right">dens</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right">2018-06-12</td>
<td align="right">a</td>
<td align="right">low</td>
<td align="right">294.1</td>
<td align="right">101100</td>
<td align="right">287</td>
<td align="right">1.198</td>
</tr>
<tr class="even">
<td align="right">2018-06-13</td>
<td align="right">b</td>
<td align="right">high</td>
<td align="right">294.1</td>
<td align="right">101000</td>
<td align="right">287</td>
<td align="right">1.196</td>
</tr>
<tr class="odd">
<td align="right">2018-06-14</td>
<td align="right">c</td>
<td align="right">med</td>
<td align="right">294.6</td>
<td align="right">101100</td>
<td align="right">287</td>
<td align="right">1.196</td>
</tr>
<tr class="even">
<td align="right">2018-06-15</td>
<td align="right">d</td>
<td align="right">low</td>
<td align="right">293.4</td>
<td align="right">101000</td>
<td align="right">287</td>
<td align="right">1.200</td>
</tr>
<tr class="odd">
<td align="right">2018-06-16</td>
<td align="right">e</td>
<td align="right">high</td>
<td align="right">293.9</td>
<td align="right">101100</td>
<td align="right">287</td>
<td align="right">1.199</td>
</tr>
</tbody>
</table>
<p>Treating a column as a vector,</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Copy to avoid "by reference" changes to air_meas</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/copy.html" class="external-link">copy</a></span><span class="op">(</span><span class="va">air_meas</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Format as a vector</span></span>
<span><span class="fu"><a href="../reference/format_power.html">format_power</a></span><span class="op">(</span><span class="va">DT</span><span class="op">$</span><span class="va">pres</span>, digits <span class="op">=</span> <span class="fl">4</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "$101.1 \\times 10^{3}$" "$101.0 \\times 10^{3}$" "$101.1 \\times 10^{3}$"</span></span>
<span><span class="co">#&gt; [4] "$101.0 \\times 10^{3}$" "$101.1 \\times 10^{3}$"</span></span></code></pre></div>
<p>is rendered as <span class="math inline">\(101.1 \times
10^{3}\)</span>, <span class="math inline">\(101.0 \times
10^{3}\)</span>, <span class="math inline">\(101.1 \times
10^{3}\)</span>, <span class="math inline">\(101.0 \times
10^{3}\)</span>, <span class="math inline">\(101.1 \times
10^{3}\)</span>.</p>
<p>Treating a column within a data frame,</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Copy to avoid "by reference" changes to air_meas</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/copy.html" class="external-link">copy</a></span><span class="op">(</span><span class="va">air_meas</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Format one column, retain all columns</span></span>
<span><span class="va">DT</span><span class="op">$</span><span class="va">pres</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/format_power.html">format_power</a></span><span class="op">(</span><span class="va">DT</span><span class="op">$</span><span class="va">pres</span>, digits <span class="op">=</span> <span class="fl">4</span><span class="op">)</span></span>
<span><span class="va">DT</span><span class="op">[</span><span class="op">]</span></span>
<span><span class="co">#&gt;          date  trial  humid  temp                   pres sp_gas  dens</span></span>
<span><span class="co">#&gt;        &lt;Date&gt; &lt;char&gt; &lt;fctr&gt; &lt;num&gt;                 &lt;char&gt;  &lt;int&gt; &lt;num&gt;</span></span>
<span><span class="co">#&gt; 1: 2018-06-12      a    low 294.1 $101.1 \\times 10^{3}$    287 1.198</span></span>
<span><span class="co">#&gt; 2: 2018-06-13      b   high 294.1 $101.0 \\times 10^{3}$    287 1.196</span></span>
<span><span class="co">#&gt; 3: 2018-06-14      c    med 294.6 $101.1 \\times 10^{3}$    287 1.196</span></span>
<span><span class="co">#&gt; 4: 2018-06-15      d    low 293.4 $101.0 \\times 10^{3}$    287 1.200</span></span>
<span><span class="co">#&gt; 5: 2018-06-16      e   high 293.9 $101.1 \\times 10^{3}$    287 1.199</span></span>
<span></span>
<span><span class="co"># Render in document</span></span>
<span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="va">DT</span>, align <span class="op">=</span> <span class="st">"r"</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="right">date</th>
<th align="right">trial</th>
<th align="right">humid</th>
<th align="right">temp</th>
<th align="right">pres</th>
<th align="right">sp_gas</th>
<th align="right">dens</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right">2018-06-12</td>
<td align="right">a</td>
<td align="right">low</td>
<td align="right">294.1</td>
<td align="right"><span class="math inline">\(101.1 \times
10^{3}\)</span></td>
<td align="right">287</td>
<td align="right">1.198</td>
</tr>
<tr class="even">
<td align="right">2018-06-13</td>
<td align="right">b</td>
<td align="right">high</td>
<td align="right">294.1</td>
<td align="right"><span class="math inline">\(101.0 \times
10^{3}\)</span></td>
<td align="right">287</td>
<td align="right">1.196</td>
</tr>
<tr class="odd">
<td align="right">2018-06-14</td>
<td align="right">c</td>
<td align="right">med</td>
<td align="right">294.6</td>
<td align="right"><span class="math inline">\(101.1 \times
10^{3}\)</span></td>
<td align="right">287</td>
<td align="right">1.196</td>
</tr>
<tr class="even">
<td align="right">2018-06-15</td>
<td align="right">d</td>
<td align="right">low</td>
<td align="right">293.4</td>
<td align="right"><span class="math inline">\(101.0 \times
10^{3}\)</span></td>
<td align="right">287</td>
<td align="right">1.200</td>
</tr>
<tr class="odd">
<td align="right">2018-06-16</td>
<td align="right">e</td>
<td align="right">high</td>
<td align="right">293.9</td>
<td align="right"><span class="math inline">\(101.1 \times
10^{3}\)</span></td>
<td align="right">287</td>
<td align="right">1.199</td>
</tr>
</tbody>
</table>
<p>Using <code><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply()</a></code> to select and treat multiple columns from
a data frame,</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Copy to avoid "by reference" changes to air_meas</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/copy.html" class="external-link">copy</a></span><span class="op">(</span><span class="va">air_meas</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Identify columns to format</span></span>
<span><span class="va">cols_we_want</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"temp"</span>, <span class="st">"pres"</span>, <span class="st">"dens"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Select and format.</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">DT</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="va">.SD</span>, <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="../reference/format_power.html">format_power</a></span><span class="op">(</span><span class="va">x</span>, <span class="fl">4</span><span class="op">)</span><span class="op">)</span>, .SDcols <span class="op">=</span> <span class="va">cols_we_want</span><span class="op">]</span></span>
<span><span class="va">DT</span><span class="op">[</span><span class="op">]</span></span>
<span><span class="co">#&gt;                      temp                   pres    dens</span></span>
<span><span class="co">#&gt;                    &lt;char&gt;                 &lt;char&gt;  &lt;char&gt;</span></span>
<span><span class="co">#&gt; 1: $294.1 \\times 10^{0}$ $101.1 \\times 10^{3}$ $1.198$</span></span>
<span><span class="co">#&gt; 2: $294.1 \\times 10^{0}$ $101.0 \\times 10^{3}$ $1.196$</span></span>
<span><span class="co">#&gt; 3: $294.6 \\times 10^{0}$ $101.1 \\times 10^{3}$ $1.196$</span></span>
<span><span class="co">#&gt; 4: $293.4 \\times 10^{0}$ $101.0 \\times 10^{3}$ $1.200$</span></span>
<span><span class="co">#&gt; 5: $293.9 \\times 10^{0}$ $101.1 \\times 10^{3}$ $1.199$</span></span>
<span></span>
<span><span class="co"># Render in document</span></span>
<span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="va">DT</span>, align <span class="op">=</span> <span class="st">"r"</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="right">temp</th>
<th align="right">pres</th>
<th align="right">dens</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right"><span class="math inline">\(294.1 \times
10^{0}\)</span></td>
<td align="right"><span class="math inline">\(101.1 \times
10^{3}\)</span></td>
<td align="right"><span class="math inline">\(1.198\)</span></td>
</tr>
<tr class="even">
<td align="right"><span class="math inline">\(294.1 \times
10^{0}\)</span></td>
<td align="right"><span class="math inline">\(101.0 \times
10^{3}\)</span></td>
<td align="right"><span class="math inline">\(1.196\)</span></td>
</tr>
<tr class="odd">
<td align="right"><span class="math inline">\(294.6 \times
10^{0}\)</span></td>
<td align="right"><span class="math inline">\(101.1 \times
10^{3}\)</span></td>
<td align="right"><span class="math inline">\(1.196\)</span></td>
</tr>
<tr class="even">
<td align="right"><span class="math inline">\(293.4 \times
10^{0}\)</span></td>
<td align="right"><span class="math inline">\(101.0 \times
10^{3}\)</span></td>
<td align="right"><span class="math inline">\(1.200\)</span></td>
</tr>
<tr class="odd">
<td align="right"><span class="math inline">\(293.9 \times
10^{0}\)</span></td>
<td align="right"><span class="math inline">\(101.1 \times
10^{3}\)</span></td>
<td align="right"><span class="math inline">\(1.199\)</span></td>
</tr>
</tbody>
</table>
<p>Repeat, but retain all columns,</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Copy to avoid "by reference" changes to air_meas</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/copy.html" class="external-link">copy</a></span><span class="op">(</span><span class="va">air_meas</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Identify columns to format</span></span>
<span><span class="va">cols_we_want</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"temp"</span>, <span class="st">"pres"</span>, <span class="st">"dens"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Format selected columns, retain all columns</span></span>
<span><span class="va">DT</span> <span class="op">&lt;-</span> <span class="va">DT</span><span class="op">[</span>, <span class="op">(</span><span class="va">cols_we_want</span><span class="op">)</span> <span class="op">:=</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="va">.SD</span>, <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="../reference/format_power.html">format_power</a></span><span class="op">(</span><span class="va">x</span>, <span class="fl">4</span><span class="op">)</span><span class="op">)</span>, .SDcols <span class="op">=</span> <span class="va">cols_we_want</span><span class="op">]</span></span>
<span><span class="va">DT</span><span class="op">[</span><span class="op">]</span></span>
<span><span class="co">#&gt;          date  trial  humid                   temp                   pres</span></span>
<span><span class="co">#&gt;        &lt;Date&gt; &lt;char&gt; &lt;fctr&gt;                 &lt;char&gt;                 &lt;char&gt;</span></span>
<span><span class="co">#&gt; 1: 2018-06-12      a    low $294.1 \\times 10^{0}$ $101.1 \\times 10^{3}$</span></span>
<span><span class="co">#&gt; 2: 2018-06-13      b   high $294.1 \\times 10^{0}$ $101.0 \\times 10^{3}$</span></span>
<span><span class="co">#&gt; 3: 2018-06-14      c    med $294.6 \\times 10^{0}$ $101.1 \\times 10^{3}$</span></span>
<span><span class="co">#&gt; 4: 2018-06-15      d    low $293.4 \\times 10^{0}$ $101.0 \\times 10^{3}$</span></span>
<span><span class="co">#&gt; 5: 2018-06-16      e   high $293.9 \\times 10^{0}$ $101.1 \\times 10^{3}$</span></span>
<span><span class="co">#&gt;    sp_gas    dens</span></span>
<span><span class="co">#&gt;     &lt;int&gt;  &lt;char&gt;</span></span>
<span><span class="co">#&gt; 1:    287 $1.198$</span></span>
<span><span class="co">#&gt; 2:    287 $1.196$</span></span>
<span><span class="co">#&gt; 3:    287 $1.196$</span></span>
<span><span class="co">#&gt; 4:    287 $1.200$</span></span>
<span><span class="co">#&gt; 5:    287 $1.199$</span></span>
<span></span>
<span><span class="co"># Render in document</span></span>
<span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="va">DT</span>, align <span class="op">=</span> <span class="st">"r"</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="13%">
<col width="7%">
<col width="7%">
<col width="26%">
<col width="26%">
<col width="8%">
<col width="9%">
</colgroup>
<thead><tr class="header">
<th align="right">date</th>
<th align="right">trial</th>
<th align="right">humid</th>
<th align="right">temp</th>
<th align="right">pres</th>
<th align="right">sp_gas</th>
<th align="right">dens</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right">2018-06-12</td>
<td align="right">a</td>
<td align="right">low</td>
<td align="right"><span class="math inline">\(294.1 \times
10^{0}\)</span></td>
<td align="right"><span class="math inline">\(101.1 \times
10^{3}\)</span></td>
<td align="right">287</td>
<td align="right"><span class="math inline">\(1.198\)</span></td>
</tr>
<tr class="even">
<td align="right">2018-06-13</td>
<td align="right">b</td>
<td align="right">high</td>
<td align="right"><span class="math inline">\(294.1 \times
10^{0}\)</span></td>
<td align="right"><span class="math inline">\(101.0 \times
10^{3}\)</span></td>
<td align="right">287</td>
<td align="right"><span class="math inline">\(1.196\)</span></td>
</tr>
<tr class="odd">
<td align="right">2018-06-14</td>
<td align="right">c</td>
<td align="right">med</td>
<td align="right"><span class="math inline">\(294.6 \times
10^{0}\)</span></td>
<td align="right"><span class="math inline">\(101.1 \times
10^{3}\)</span></td>
<td align="right">287</td>
<td align="right"><span class="math inline">\(1.196\)</span></td>
</tr>
<tr class="even">
<td align="right">2018-06-15</td>
<td align="right">d</td>
<td align="right">low</td>
<td align="right"><span class="math inline">\(293.4 \times
10^{0}\)</span></td>
<td align="right"><span class="math inline">\(101.0 \times
10^{3}\)</span></td>
<td align="right">287</td>
<td align="right"><span class="math inline">\(1.200\)</span></td>
</tr>
<tr class="odd">
<td align="right">2018-06-16</td>
<td align="right">e</td>
<td align="right">high</td>
<td align="right"><span class="math inline">\(293.9 \times
10^{0}\)</span></td>
<td align="right"><span class="math inline">\(101.1 \times
10^{3}\)</span></td>
<td align="right">287</td>
<td align="right"><span class="math inline">\(1.199\)</span></td>
</tr>
</tbody>
</table>
</div>
<div class="section level2">
<h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<p>Davide Cervone (2018) MathJax: TeX and LaTeX math delimiters, <a href="https://docs.mathjax.org/en/v2.7-latest/tex.html#tex-and-latex-math-delimiters" class="external-link uri">https://docs.mathjax.org/en/v2.7-latest/tex.html#tex-and-latex-math-delimiters</a>.</p>
<p>Morgan Chase (2021) <em>Technical Mathematics,</em> <a href="https://openoregon.pressbooks.pub/techmath/chapter/module-11-scientific-notation/" class="external-link uri">https://openoregon.pressbooks.pub/techmath/chapter/module-11-scientific-notation/</a>.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by <a href="https://github.com/graphdr/" class="external-link">Richard Layton</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
