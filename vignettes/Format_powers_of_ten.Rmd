---
title: "Format powers of ten"
output:
  rmarkdown::html_vignette:
    fig_caption: yes
vignette: >
  %\VignetteIndexEntry{Format powers of ten}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r setup, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

```{r}
#| collapse: true
library("formatdown")
library("data.table")
```

Scalar value.

```{r}
#| collapse: true
format_power(101100)
```

In an Rmarkdown document: 

- `r format_power(101100)`

Vector value. 

```{r}
#| collapse: true
x <- c(1.2222e-6, 2.3333e-5, 3.4444e-4, 4.1111e-3, 5.2222e-2, 6.3333e-1,
       7.4444e+0, 8.1111e+1, 9.2222e+2, 1.3333e+3, 2.4444e+4, 3.1111e+5, 4.2222e+6)
format_power(x)
```

In an Rmarkdown document: 

- `r format_power(x)[1:3]`, etc. 

Significant digits argument. 

```{r}
#| collapse: true
format_power(x[1], 3)

format_power(x[1], 4)
```

In an Rmarkdown document:

- `r format_power(x[1], 3)`
- `r format_power(x[1], 4)`

Engineering notation argument. 

```{r}
#| collapse: true
format_power(x[3], engr_notation = TRUE)

format_power(x[3], engr_notation = FALSE)
```

In an Rmarkdown document:

- `r format_power(x[3], engr_notation = TRUE)`
- `r format_power(x[3], engr_notation = FALSE)`

Changing the limits on range for disabling exponential notation. 

```{r}
#| collapse: true
format_power(x[6], disable_exponent = c(0.1, 1000))

format_power(x[6], disable_exponent = c(1, 1000))
```

In an Rmarkdown document:

- `r format_power(x[6], disable_exponent = c(0.1, 1000))`
- `r format_power(x[6], disable_exponent = c(1, 1000))`

Apply to numerical columns of a data frame (using data.table syntax).

```{r}
#| collapse: true
DT <- data.table(y = x[1:6], z = x[8:13])
DT <- DT[, lapply(.SD, function(x) format_power(x))]
DT[]
```

In an Rmarkdown document (with `knitr::kable()`): 

```{r}
knitr::kable(DT, align = "r")
```

 
